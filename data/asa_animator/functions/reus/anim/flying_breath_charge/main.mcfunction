# This function was generated by ArmorstandAnimator
scoreboard players add @s AsaMatrix 1
execute if entity @s[scores={AsaMatrix=1}] run function asa_animator:reus/anim/flying_breath_charge/start
execute if entity @s[scores={AsaMatrix=1}] run function asa_animator:reus/anim/flying_breath_charge/keyframes/0
execute if entity @s[scores={AsaMatrix=1..7}] run tp @s ^-0.07142857 ^0.1428571 ^-0.1428571
execute if entity @s[scores={AsaMatrix=8}] run function asa_animator:reus/anim/flying_breath_charge/keyframes/1
execute if entity @s[scores={AsaMatrix=8..10}] run tp @s ^-0.09999999 ^0.125 ^-0.0625
execute if entity @s[scores={AsaMatrix=11..15}] run tp @s ^-0.09999999 ^0.125 ^-0.0625 ~-15 ~
execute if entity @s[scores={AsaMatrix=16}] run function asa_animator:reus/anim/flying_breath_charge/keyframes/2
execute if entity @s[scores={AsaMatrix=16..21}] run tp @s ^0 ^0.07 ^0
execute if entity @s[scores={AsaMatrix=22}] run function asa_animator:reus/anim/flying_breath_charge/keyframes/3
execute if entity @s[scores={AsaMatrix=22..27}] run tp @s ^0 ^-0.07 ^0
execute if entity @s[scores={AsaMatrix=28}] run function asa_animator:reus/anim/flying_breath_charge/keyframes/4
execute if entity @s[scores={AsaMatrix=28..33}] run tp @s ^0 ^0.07 ^0
execute if entity @s[scores={AsaMatrix=34}] run function asa_animator:reus/anim/flying_breath_charge/keyframes/5
execute if entity @s[scores={AsaMatrix=34..39}] run tp @s ^0 ^-0.07 ^0
execute if entity @s[scores={AsaMatrix=40}] run function asa_animator:reus/anim/flying_breath_charge/keyframes/6
execute if entity @s[scores={AsaMatrix=40..45}] run tp @s ^0 ^0.07 ^0
execute if entity @s[scores={AsaMatrix=46}] run function asa_animator:reus/anim/flying_breath_charge/keyframes/7
execute if entity @s[scores={AsaMatrix=46..52}] run tp @s ^0 ^-0.0142857 ^-0.07142857 ~-0.5 ~
execute if entity @s[scores={AsaMatrix=53}] run function asa_animator:reus/anim/flying_breath_charge/keyframes/8
execute if entity @s[scores={AsaMatrix=53..59}] run tp @s ^0.1142857 ^0.07142857 ^-0.1428571
execute if entity @s[scores={AsaMatrix=60}] run function asa_animator:reus/anim/flying_breath_charge/keyframes/9
execute if entity @s[scores={AsaMatrix=60..69}] run tp @s ^0.05 ^-0.15 ^-0.1
execute if entity @s[scores={AsaMatrix=70}] run function asa_animator:reus/anim/flying_breath_charge/keyframes/10
execute if entity @s[scores={AsaMatrix=70..79}] run tp @s ^0 ^-0.15 ^-0.08000002
execute if entity @s[scores={AsaMatrix=80..}] run function asa_animator:reus/anim/flying_breath_charge/end
execute as @e[type=armor_stand,tag=ReusParts] run function #asa_matrix:animate
function asa_animator:reus/model

# 移動
    execute if entity @s[scores={AsaMatrix=1..10}] run function asa_animator:reus/manager/4_general/rotate
    execute if entity @s[scores={AsaMatrix=44..52}] run function asa_animator:reus/manager/4_general/rotate_fast

# 演出
    execute if entity @s[scores={AsaMatrix=1..29}] as @e[type=armor_stand,tag=ReusParts,tag=HeadU,distance=0..12] at @s positioned ^ ^1.3 ^0.8 run particle flame ~ ~ ~ 0.2 0.2 0.2 0.1 3
    execute if entity @s[scores={AsaMatrix=1}] run playsound entity.player.breath master @a ~ ~ ~ 2 0.8
    execute if entity @s[scores={AsaMatrix=15}] run playsound entity.ender_dragon.flap master @a ~ ~ ~ 2 0.7
    execute if entity @s[scores={AsaMatrix=27}] run playsound entity.ender_dragon.flap master @a ~ ~ ~ 2 0.7
    execute if entity @s[scores={AsaMatrix=39}] run playsound entity.ender_dragon.flap master @a ~ ~ ~ 2 0.7
    execute if entity @s[scores={AsaMatrix=52}] run playsound entity.ender_dragon.flap master @a ~ ~ ~ 2 0.7

# 攻撃
    # 攻撃用Marker召喚
        execute if entity @s[scores={AsaMatrix=15}] as @e[type=armor_stand,tag=ReusParts,tag=HeadU,distance=0..7] at @s run function asa_animator:reus/anim/flying_breath_charge/events/attack_start
    # 予備動作（判定あり）
        execute if entity @s[scores={AsaMatrix=16..45}] as @e[type=marker,tag=ReusChargeFPos,distance=0..7] at @s run function asa_animator:reus/anim/flying_breath_charge/events/attack
    # 攻撃
        execute if entity @s[scores={AsaMatrix=43}] as @e[type=marker,tag=ReusChargeFPos] facing entity @e[tag=ReusAttackTarget] eyes run tp @s ~ ~ ~ ~ 90
        execute if entity @s[scores={AsaMatrix=46..58}] as @e[type=marker,tag=ReusChargeFPos,distance=0..7] at @s run function asa_animator:reus/anim/flying_breath_charge/events/attack_rotate
    # 終了
        execute if entity @s[scores={AsaMatrix=59}] run kill @e[type=marker,tag=ReusChargeFPos]
