#> mhdp_core:player/damage/knockback/
#
# ノックバックを受けているときの処理

# ノックバック処理用スライム召喚
    execute if entity @s[tag=MdhpKnockbackDW] positioned ^ ^0.1 ^0.2 run summon area_effect_cloud ~ ~ ~ {Tags:["MhdpKnockbackParts"],Passengers:[{id:"minecraft:slime",NoGravity:1b,Silent:1b,NoAI:1b,Tags:["MhdpKnockbackParts"],DeathLootTable:"asa_animator:no_drop",Invulnerable:1b,ActiveEffects:[{Id:14,Amplifier:1b,Duration:6000000,ShowParticles:0b}]},{id:"minecraft:slime",NoGravity:1b,Silent:1b,NoAI:1b,Tags:["MhdpKnockbackParts"],DeathLootTable:"asa_animator:no_drop",Invulnerable:1b,ActiveEffects:[{Id:14,Amplifier:1b,Duration:6000000,ShowParticles:0b}]},{id:"minecraft:slime",NoGravity:1b,Silent:1b,NoAI:1b,Tags:["MhdpKnockbackParts"],DeathLootTable:"asa_animator:no_drop",Invulnerable:1b,ActiveEffects:[{Id:14,Amplifier:1b,Duration:6000000,ShowParticles:0b}]},{id:"minecraft:slime",NoGravity:1b,Silent:1b,NoAI:1b,Tags:["MhdpKnockbackParts"],DeathLootTable:"asa_animator:no_drop",Invulnerable:1b,ActiveEffects:[{Id:14,Amplifier:1b,Duration:6000000,ShowParticles:0b}]},{id:"minecraft:slime",NoGravity:1b,Silent:1b,NoAI:1b,Tags:["MhdpKnockbackParts"],DeathLootTable:"asa_animator:no_drop",Invulnerable:1b,ActiveEffects:[{Id:14,Amplifier:1b,Duration:6000000,ShowParticles:0b}]},{id:"minecraft:slime",NoGravity:1b,Silent:1b,NoAI:1b,Tags:["MhdpKnockbackParts"],DeathLootTable:"asa_animator:no_drop",Invulnerable:1b,ActiveEffects:[{Id:14,Amplifier:1b,Duration:6000000,ShowParticles:0b}]},{id:"minecraft:slime",NoGravity:1b,Silent:1b,NoAI:1b,Tags:["MhdpKnockbackParts"],DeathLootTable:"asa_animator:no_drop",Invulnerable:1b,ActiveEffects:[{Id:14,Amplifier:1b,Duration:6000000,ShowParticles:0b}]},{id:"minecraft:slime",NoGravity:1b,Silent:1b,NoAI:1b,Tags:["MhdpKnockbackParts"],DeathLootTable:"asa_animator:no_drop",Invulnerable:1b,ActiveEffects:[{Id:14,Amplifier:1b,Duration:6000000,ShowParticles:0b}]},{id:"minecraft:slime",NoGravity:1b,Silent:1b,NoAI:1b,Tags:["MhdpKnockbackParts"],DeathLootTable:"asa_animator:no_drop",Invulnerable:1b,ActiveEffects:[{Id:14,Amplifier:1b,Duration:6000000,ShowParticles:0b}]},{id:"minecraft:slime",NoGravity:1b,Silent:1b,NoAI:1b,Tags:["MhdpKnockbackParts"],DeathLootTable:"asa_animator:no_drop",Invulnerable:1b,ActiveEffects:[{Id:14,Amplifier:1b,Duration:6000000,ShowParticles:0b}]},{id:"minecraft:slime",NoGravity:1b,Silent:1b,NoAI:1b,Tags:["MhdpKnockbackParts"],DeathLootTable:"asa_animator:no_drop",Invulnerable:1b,ActiveEffects:[{Id:14,Amplifier:1b,Duration:6000000,ShowParticles:0b}]},{id:"minecraft:slime",NoGravity:1b,Silent:1b,NoAI:1b,Tags:["MhdpKnockbackParts"],DeathLootTable:"asa_animator:no_drop",Invulnerable:1b,ActiveEffects:[{Id:14,Amplifier:1b,Duration:6000000,ShowParticles:0b}]},{id:"minecraft:slime",NoGravity:1b,Silent:1b,NoAI:1b,Tags:["MhdpKnockbackParts"],DeathLootTable:"asa_animator:no_drop",Invulnerable:1b,ActiveEffects:[{Id:14,Amplifier:1b,Duration:6000000,ShowParticles:0b}]},{id:"minecraft:slime",NoGravity:1b,Silent:1b,NoAI:1b,Tags:["MhdpKnockbackParts"],DeathLootTable:"asa_animator:no_drop",Invulnerable:1b,ActiveEffects:[{Id:14,Amplifier:1b,Duration:6000000,ShowParticles:0b}]}]}
    execute if entity @s[tag=MdhpKnockbackD] positioned ^ ^0.1 ^0.2 run summon area_effect_cloud ~ ~ ~ {Tags:["MhdpKnockbackParts"],Passengers:[{id:"minecraft:slime",NoGravity:1b,Silent:1b,NoAI:1b,Tags:["MhdpKnockbackParts"],DeathLootTable:"asa_animator:no_drop",Invulnerable:1b,ActiveEffects:[{Id:14,Amplifier:1b,Duration:6000000,ShowParticles:0b}]},{id:"minecraft:slime",NoGravity:1b,Silent:1b,NoAI:1b,Tags:["MhdpKnockbackParts"],DeathLootTable:"asa_animator:no_drop",Invulnerable:1b,ActiveEffects:[{Id:14,Amplifier:1b,Duration:6000000,ShowParticles:0b}]},{id:"minecraft:slime",NoGravity:1b,Silent:1b,NoAI:1b,Tags:["MhdpKnockbackParts"],DeathLootTable:"asa_animator:no_drop",Invulnerable:1b,ActiveEffects:[{Id:14,Amplifier:1b,Duration:6000000,ShowParticles:0b}]},{id:"minecraft:slime",NoGravity:1b,Silent:1b,NoAI:1b,Tags:["MhdpKnockbackParts"],DeathLootTable:"asa_animator:no_drop",Invulnerable:1b,ActiveEffects:[{Id:14,Amplifier:1b,Duration:6000000,ShowParticles:0b}]},{id:"minecraft:slime",NoGravity:1b,Silent:1b,NoAI:1b,Tags:["MhdpKnockbackParts"],DeathLootTable:"asa_animator:no_drop",Invulnerable:1b,ActiveEffects:[{Id:14,Amplifier:1b,Duration:6000000,ShowParticles:0b}]}]}
    execute if entity @s[tag=MdhpKnockbackW] positioned ^ ^0.1 ^0.2 run summon area_effect_cloud ~ ~ ~ {Tags:["MhdpKnockbackParts"],Passengers:[{id:"minecraft:slime",NoGravity:1b,Silent:1b,NoAI:1b,Tags:["MhdpKnockbackParts"],DeathLootTable:"asa_animator:no_drop",Invulnerable:1b,ActiveEffects:[{Id:14,Amplifier:1b,Duration:6000000,ShowParticles:0b}]},{id:"minecraft:slime",NoGravity:1b,Silent:1b,NoAI:1b,Tags:["MhdpKnockbackParts"],DeathLootTable:"asa_animator:no_drop",Invulnerable:1b,ActiveEffects:[{Id:14,Amplifier:1b,Duration:6000000,ShowParticles:0b}]},{id:"minecraft:slime",NoGravity:1b,Silent:1b,NoAI:1b,Tags:["MhdpKnockbackParts"],DeathLootTable:"asa_animator:no_drop",Invulnerable:1b,ActiveEffects:[{Id:14,Amplifier:1b,Duration:6000000,ShowParticles:0b}]},{id:"minecraft:slime",NoGravity:1b,Silent:1b,NoAI:1b,Tags:["MhdpKnockbackParts"],DeathLootTable:"asa_animator:no_drop",Invulnerable:1b,ActiveEffects:[{Id:14,Amplifier:1b,Duration:6000000,ShowParticles:0b}]},{id:"minecraft:slime",NoGravity:1b,Silent:1b,NoAI:1b,Tags:["MhdpKnockbackParts"],DeathLootTable:"asa_animator:no_drop",Invulnerable:1b,ActiveEffects:[{Id:14,Amplifier:1b,Duration:6000000,ShowParticles:0b}]},{id:"minecraft:slime",NoGravity:1b,Silent:1b,NoAI:1b,Tags:["MhdpKnockbackParts"],DeathLootTable:"asa_animator:no_drop",Invulnerable:1b,ActiveEffects:[{Id:14,Amplifier:1b,Duration:6000000,ShowParticles:0b}]},{id:"minecraft:slime",NoGravity:1b,Silent:1b,NoAI:1b,Tags:["MhdpKnockbackParts"],DeathLootTable:"asa_animator:no_drop",Invulnerable:1b,ActiveEffects:[{Id:14,Amplifier:1b,Duration:6000000,ShowParticles:0b}]}]}

# タイマー減算
    scoreboard players remove @s MhdpTKnockback 1

# 終了
    execute if entity @s[scores={MhdpTKnockback=..0}] run function mhdp_core:player/damage/knockback/end
